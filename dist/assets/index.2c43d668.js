/* empty css                  */import{E as S,a as b,b as L,c as N}from"./el-col.df69f32e.js";import"./el-tooltip.761acdf5.js";import"./el-scrollbar.654896dc.js";import{E as U}from"./el-divider.c1b7d38c.js";import{P as C}from"./index.c923d329.js";import{Y as V,r as d,Z as D,o as f,g,M as l,C as a,t as I,w as o,cl as F,aB as x,ak as R,bX as A,V as p,f as H}from"./index.65b9b639.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import"./index.871ab798.js";import"./index.79cc9621.js";import"./index.985f7b33.js";import"./el-input.992ae77e.js";import"./index.bc454b2f.js";const T="/assets/record.f82a5110.png";const X={class:"pan-music-content"},Y={class:"music-name-content"},Z={class:"music-name"},j={class:"music-content"},q=["src"],z={class:"music-list-content"},G={slot:"title"},J={__name:"index",setup(K){const _=V(),r=d(""),n=d([]),c=d(""),i=d("0"),h=s=>{n.value=new Array,s.forEach((e,t)=>{e.filename=e.filename.substring(0,e.filename.lastIndexOf(".")),e.filename.length>15&&(e.filename=e.filename.substring(0,16)+"..."),e.fileId===_.params.fileId&&(r.value=e.filename,c.value=p.getPreviewUrl(e.fileId)),n.value.push(e)}),i.value=_.params.fileId},E=()=>{let s="",e=i.value;if(n.value.some((u,m)=>{if(u.fileId===e)return s=m,!0}),s===n.value.length-1)return;let t=n.value[++s];r.value=t.filename,c.value=p.getPreviewUrl(t.fileId),i.value=t.fileId},y=(s,e)=>{i.value=s,n.value.some(t=>{if(t.fileId===s)return r.value=t.filename,c.value=p.getPreviewUrl(t.fileId),!0})},w=()=>{document.getElementById("r_pan_music_player").addEventListener("ended",()=>{E()},!1)},M=()=>{F.list({parentId:_.params.parentId,fileTypes:"8"},s=>{s.code===0?(h(s.data),w()):x.error(s.message)},s=>{x.error(s.message)})};return D(()=>{M()}),(s,e)=>{const t=U,u=S,m=b,P=L,B=N;return f(),g("div",null,[l(C),a("div",X,[a("div",Y,[a("p",Z,I(r.value),1)]),l(t),l(B,null,{default:o(()=>[l(u,{span:18},{default:o(()=>[e[0]||(e[0]=a("div",{class:"record-img-content"},[a("img",{class:"record-img",src:T})],-1)),a("div",j,[a("audio",{id:"r_pan_music_player",src:c.value,autoplay:"true",controls:"true"},null,8,q)])]),_:1}),l(u,{span:6},{default:o(()=>[a("div",z,[l(P,{class:"music-list","default-active":i.value,onSelect:y},{default:o(()=>[(f(!0),g(R,null,A(n.value,(v,k)=>(f(),H(m,{key:k,index:v.fileId},{default:o(()=>[e[1]||(e[1]=a("i",{class:"fa fa-music"},null,-1)),a("span",G,I(v.filename),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])])]),_:1})]),_:1})])])}}},ue=O(J,[["__scopeId","data-v-804cf66f"]]);export{ue as default};
