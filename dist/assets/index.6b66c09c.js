/* empty css                  */import{E as oe}from"./el-link.7a23edc6.js";import{bi as le,cx as re,K as ie,b as Z,c5 as Q,J as X,d as R,u as ee,a7 as H,a1 as ue,o as v,g as k,j as M,n as d,a as n,_ as se,ah as te,ad as ce,r as p,a2 as pe,Z as ne,a3 as de,c as g,ay as ve,h as V,C as o,D as J,f as z,w as h,E as fe,F as j,M as y,y as me,z as ye,t as W,k as b,p as we,am as _e,cm as ge,W as Se,S as A,ch as O,az as q,aB as S,aA as F,ac as G,V as he}from"./index.94d4cfde.js";import{_ as ke}from"./_plugin-vue_export-helper.cdc0426e.js";const Ce=(w,c,t)=>re(w.subTree).filter(i=>{var s;return ie(i)&&((s=i.type)==null?void 0:s.name)===c&&!!i.component}).map(i=>i.component.uid).map(i=>t[i]).filter(i=>!!i),Ee=(w,c)=>{const t={},r=le([]);return{children:r,addChild:s=>{t[s.uid]=s,r.value=Ce(w,c,t)},removeChild:s=>{delete t[s],r.value=r.value.filter(u=>u.uid!==s)}}},be=Z({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Pe={[Q]:(w,c)=>[w,c].every(X)},Ne=R({name:"ElSteps"}),Ve=R({...Ne,props:be,emits:Pe,setup(w,{emit:c}){const t=w,r=ee("steps"),{children:f,addChild:i,removeChild:s}=Ee(te(),"ElStep");return H(f,()=>{f.value.forEach((u,l)=>{u.setIndex(l)})}),ue("ElSteps",{props:t,steps:f,addStep:i,removeStep:s}),H(()=>t.active,(u,l)=>{c(Q,u,l)}),(u,l)=>(v(),k("div",{class:d([n(r).b(),n(r).m(u.simple?"simple":u.direction)])},[M(u.$slots,"default")],2))}});var xe=se(Ve,[["__file","steps.vue"]]);const $e=Z({title:{type:String,default:""},icon:{type:ce},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Be=R({name:"ElStep"}),Te=R({...Be,props:$e,setup(w){const c=w,t=ee("step"),r=p(-1),f=p({}),i=p(""),s=pe("ElSteps"),u=te();ne(()=>{H([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([a])=>{m(a)},{immediate:!0})}),de(()=>{s.removeStep(e.uid)});const l=g(()=>c.status||i.value),x=g(()=>{const a=s.steps.value[r.value-1];return a?a.currentStatus:"wait"}),I=g(()=>s.props.alignCenter),$=g(()=>s.props.direction==="vertical"),_=g(()=>s.props.simple),B=g(()=>s.steps.value.length),D=g(()=>{var a;return((a=s.steps.value[B.value-1])==null?void 0:a.uid)===(u==null?void 0:u.uid)}),C=g(()=>_.value?"":s.props.space),L=g(()=>[t.b(),t.is(_.value?"simple":s.props.direction),t.is("flex",D.value&&!C.value&&!I.value),t.is("center",I.value&&!$.value&&!_.value)]),T=g(()=>{const a={flexBasis:X(C.value)?`${C.value}px`:C.value?C.value:`${100/(B.value-(I.value?0:1))}%`};return $.value||D.value&&(a.maxWidth=`${100/B.value}%`),a}),Y=a=>{r.value=a},K=a=>{const E=a==="wait",P={transitionDelay:`${E?"-":""}${150*r.value}ms`},U=a===s.props.processStatus||E?0:100;P.borderWidth=U&&!_.value?"1px":0,P[s.props.direction==="vertical"?"height":"width"]=`${U}%`,f.value=P},m=a=>{a>r.value?i.value=s.props.finishStatus:a===r.value&&x.value!=="error"?i.value=s.props.processStatus:i.value="wait";const E=s.steps.value[r.value-1];E&&E.calcProgress(i.value)},e=ve({uid:u.uid,currentStatus:l,setIndex:Y,calcProgress:K});return s.addStep(e),(a,E)=>(v(),k("div",{style:J(n(T)),class:d(n(L))},[V(" icon & line "),o("div",{class:d([n(t).e("head"),n(t).is(n(l))])},[n(_)?V("v-if",!0):(v(),k("div",{key:0,class:d(n(t).e("line"))},[o("i",{class:d(n(t).e("line-inner")),style:J(f.value)},null,6)],2)),o("div",{class:d([n(t).e("icon"),n(t).is(a.icon||a.$slots.icon?"icon":"text")])},[M(a.$slots,"icon",{},()=>[a.icon?(v(),z(n(j),{key:0,class:d(n(t).e("icon-inner"))},{default:h(()=>[(v(),z(fe(a.icon)))]),_:1},8,["class"])):n(l)==="success"?(v(),z(n(j),{key:1,class:d([n(t).e("icon-inner"),n(t).is("status")])},{default:h(()=>[y(n(me))]),_:1},8,["class"])):n(l)==="error"?(v(),z(n(j),{key:2,class:d([n(t).e("icon-inner"),n(t).is("status")])},{default:h(()=>[y(n(ye))]),_:1},8,["class"])):n(_)?V("v-if",!0):(v(),k("div",{key:3,class:d(n(t).e("icon-inner"))},W(r.value+1),3))])],2)],2),V(" title & description "),o("div",{class:d(n(t).e("main"))},[o("div",{class:d([n(t).e("title"),n(t).is(n(l))])},[M(a.$slots,"title",{},()=>[b(W(a.title),1)])],2),n(_)?(v(),k("div",{key:0,class:d(n(t).e("arrow"))},null,2)):(v(),k("div",{key:1,class:d([n(t).e("description"),n(t).is(n(l))])},[M(a.$slots,"description",{},()=>[b(W(a.description),1)])],2))],2)],6))}});var ae=se(Te,[["__file","item.vue"]]);const Ue=we(xe,{Step:ae}),Ie=_e(ae);const De={class:"content"},Ke={class:"steps-content"},Le={key:0,class:"form"},ze={class:"forget-form-content"},Ae={class:"forget-form-item"},Oe={class:"login-link-content"},qe={key:1,class:"form"},Me={class:"forget-form-content"},We={class:"forget-form-item"},Re={class:"question-content"},Ye={class:"login-link-content"},je={key:2,class:"form"},Fe={class:"forget-form-content"},Ge={class:"forget-form-item"},He={class:"login-link-content"},Je={__name:"index",setup(w){const c=p(1),t=p("process"),r=p(""),f=p(""),i=p(""),s=p(""),u=p(""),l=p(!1),x=p(""),I=ge(),$=p(null),_=p(null),B=p(null);ne(()=>{$.value.focus()});const D=()=>{l.value=!0,c.value=1,r.value="",f.value="",i.value="",s.value="",u.value="",x.value="",t.value="process",G(function(){$.focus()}),l.value=!1},C=()=>{if(!r.value){S.error("Please enter the username to change your password");return}l.value=!0,F.checkUsername({username:r.value},m=>{f.value=m.data,c.value=2,G(function(){_.value.focus(),l.value=!1})},m=>{S.error(m.message),l.value=!1})},L=()=>{if(!i.value){S.error("Please enter the password answer");return}l.value=!0,F.checkAnswer({username:r.value,question:f.value,answer:i.value},m=>{x.value=m.data,c.value=3,G(function(){B.value.focus(),l.value=!1})},m=>{S.error(m.message),l.value=!1})},T=()=>{I.push({name:"Login"})},Y=()=>he.checkPassword(s.value)?!u.value||s.value!==u.value?(S.error("Passwords do not match"),!1):!0:(S.error("Please enter a password of 8-16 digits"),!1),K=()=>{if(!x.value){S.error("Due to prolonged inactivity, you will be returned to Step One to reapply for password reset"),D();return}Y()&&(l.value=!0,F.resetPassword({username:r.value,password:s.value,token:x.value},()=>{l.value=!1,t.value="success",S.success("Password reset successfully! You are about to be redirected to the login page"),setTimeout(T,1e3)},m=>{m.code===2?(l.value=!1,S.error("Due to prolonged inactivity, you will be returned to Step One to reapply for password reset"),D()):(l.value=!1,S.error(m.message))}))};return(m,e)=>{const a=Ie,E=Ue,P=Se,U=oe;return v(),k("div",De,[o("div",Ke,[y(E,{active:c.value,direction:"vertical","finish-status":"success","process-status":t.value},{default:h(()=>[y(a,{title:"Verify user name"}),y(a,{title:"Verify Answer"}),y(a,{title:"Change password"})]),_:1},8,["active","process-status"])]),c.value===1?(v(),k("div",Le,[e[7]||(e[7]=o("h2",null,"Verify Username",-1)),o("div",ze,[o("div",Ae,[o("label",null,[e[4]||(e[4]=o("span",null,"Username",-1)),A(o("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=N=>r.value=N),onKeyup:q(C,["enter"]),ref_key:"usernameEl",ref:$},null,544),[[O,r.value]])])])]),y(P,{type:"warning",class:"submit",loading:!1,onClick:C,round:""},{default:h(()=>e[5]||(e[5]=[b("Next")])),_:1}),o("div",Oe,[y(U,{type:"primary",onClick:T},{default:h(()=>e[6]||(e[6]=[b("Login")])),_:1})])])):V("",!0),c.value===2?(v(),k("div",qe,[e[12]||(e[12]=o("h2",null,"Verify Password Answer",-1)),o("div",Me,[o("div",We,[o("label",null,[e[8]||(e[8]=o("span",null,"Your security question is",-1)),o("div",Re,W(f.value),1)]),o("label",null,[e[9]||(e[9]=o("span",null,"Your password answer is",-1)),A(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=N=>i.value=N),onKeyup:q(L,["enter"]),ref_key:"answerEl",ref:_},null,544),[[O,i.value]])])])]),y(P,{type:"warning",class:"submit",loading:l.value,onClick:L,round:""},{default:h(()=>e[10]||(e[10]=[b("Next")])),_:1},8,["loading"]),o("div",Ye,[y(U,{type:"primary",onClick:T},{default:h(()=>e[11]||(e[11]=[b("Login")])),_:1})])])):V("",!0),c.value===3?(v(),k("div",je,[e[17]||(e[17]=o("h2",null,"Reset Password",-1)),o("div",Fe,[o("div",Ge,[o("label",null,[e[13]||(e[13]=o("span",null,"New Password",-1)),A(o("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=N=>s.value=N),onKeyup:q(K,["enter"]),ref_key:"newPasswordEl",ref:B},null,544),[[O,s.value]])]),o("label",null,[e[14]||(e[14]=o("span",null,"Confirmation Password",-1)),A(o("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=N=>u.value=N),onKeyup:q(K,["enter"])},null,544),[[O,u.value]])])])]),y(P,{type:"warning",class:"submit",loading:!1,onClick:K,round:""},{default:h(()=>e[15]||(e[15]=[b("Submit")])),_:1}),o("div",He,[y(U,{type:"primary",onClick:T},{default:h(()=>e[16]||(e[16]=[b("Login")])),_:1})])])):V("",!0)])}}},ss=ke(Je,[["__scopeId","data-v-e4a66832"]]);export{ss as default};
