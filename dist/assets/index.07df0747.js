/* empty css                  */import{E as Le}from"./el-result.1db68373.js";import{ar as $,aJ as ze,b as ye,q as j,cC as we,J as ue,d as se,cJ as pe,cK as xe,cL as Se,af as he,u as be,aY as Ne,r as k,cM as Oe,bi as Te,c as _,a7 as de,ac as ke,Z as Ie,o as h,f as fe,w as g,M as u,a0 as Re,C as b,n as p,a as t,D as ge,aj as Ae,h as x,F as T,z as $e,g as z,ak as ne,cN as Be,c0 as Me,cO as Ve,cP as Pe,E as Ye,cQ as Xe,cR as De,bX as He,S as Fe,T as je,j as ae,_ as Ce,a8 as B,a4 as A,cS as Ke,p as Ee,c7 as We,bj as Ze,c6 as Je,m as _e,as as Ue,B as qe,cT as Ge,t as Qe,cU as et,W as tt,k as at,V as nt}from"./index.65b9b639.js";import{_ as st}from"./_plugin-vue_export-helper.cdc0426e.js";import{E as ot}from"./index.79cc9621.js";import{d as lt}from"./debounce.8056745e.js";const rt=(l,m)=>{if(!$||!l||!m)return!1;const n=l.getBoundingClientRect();let i;return m instanceof Element?i=m.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right};var it="Expected a function";function ce(l,m,n){var i=!0,s=!0;if(typeof l!="function")throw new TypeError(it);return ze(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),lt(l,m,{leading:i,maxWait:m,trailing:s})}const ct=ye({urlList:{type:j(Array),default:()=>we([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:j(String)}}),ut={close:()=>!0,switch:l=>ue(l),rotate:l=>ue(l)},dt=se({name:"ElImageViewer"}),ft=se({...dt,props:ct,emits:ut,setup(l,{expose:m,emit:n}){var i;const s=l,v={CONTAIN:{name:"contain",icon:pe(xe)},ORIGINAL:{name:"original",icon:pe(Se)}},{t:M}=he(),r=be("image-viewer"),{nextZIndex:oe}=Ne(),R=k(),N=k([]),S=Oe(),C=k(!0),y=k(s.initialIndex),w=Te(v.CONTAIN),c=k({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),V=k((i=s.zIndex)!=null?i:oe()),P=_(()=>{const{urlList:a}=s;return a.length<=1}),K=_(()=>y.value===0),W=_(()=>y.value===s.urlList.length-1),Y=_(()=>s.urlList[y.value]),le=_(()=>[r.e("btn"),r.e("prev"),r.is("disabled",!s.infinite&&K.value)]),Z=_(()=>[r.e("btn"),r.e("next"),r.is("disabled",!s.infinite&&W.value)]),X=_(()=>{const{scale:a,deg:f,offsetX:o,offsetY:I,enableTransition:E}=c.value;let L=o/a,O=I/a;const F=f*Math.PI/180,me=Math.cos(F),ve=Math.sin(F);L=L*me+O*ve,O=O*me-o/a*ve;const ie={transform:`scale(${a}) rotate(${f}deg) translate(${L}px, ${O}px)`,transition:E?"transform .3s":""};return w.value.name===v.CONTAIN.name&&(ie.maxWidth=ie.maxHeight="100%"),ie});function D(){J(),n("close")}function re(){const a=ce(o=>{switch(o.code){case A.esc:s.closeOnPressEscape&&D();break;case A.space:ee();break;case A.left:te();break;case A.up:d("zoomIn");break;case A.right:e();break;case A.down:d("zoomOut");break}}),f=ce(o=>{const I=o.deltaY||o.deltaX;d(I<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});S.run(()=>{B(document,"keydown",a),B(document,"wheel",f)})}function J(){S.stop()}function U(){C.value=!1}function q(a){C.value=!1,a.target.alt=M("el.image.error")}function G(a){if(C.value||a.button!==0||!R.value)return;c.value.enableTransition=!1;const{offsetX:f,offsetY:o}=c.value,I=a.pageX,E=a.pageY,L=ce(F=>{c.value={...c.value,offsetX:f+F.pageX-I,offsetY:o+F.pageY-E}}),O=B(document,"mousemove",L);B(document,"mouseup",()=>{O()}),a.preventDefault()}function Q(){c.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(C.value)return;const a=Ke(v),f=Object.values(v),o=w.value.name,E=(f.findIndex(L=>L.name===o)+1)%a.length;w.value=v[a[E]],Q()}function H(a){const f=s.urlList.length;y.value=(a+f)%f}function te(){K.value&&!s.infinite||H(y.value-1)}function e(){W.value&&!s.infinite||H(y.value+1)}function d(a,f={}){if(C.value)return;const{minScale:o,maxScale:I}=s,{zoomRate:E,rotateDeg:L,enableTransition:O}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...f};switch(a){case"zoomOut":c.value.scale>o&&(c.value.scale=Number.parseFloat((c.value.scale/E).toFixed(3)));break;case"zoomIn":c.value.scale<I&&(c.value.scale=Number.parseFloat((c.value.scale*E).toFixed(3)));break;case"clockwise":c.value.deg+=L,n("rotate",c.value.deg);break;case"anticlockwise":c.value.deg-=L,n("rotate",c.value.deg);break}c.value.enableTransition=O}return de(Y,()=>{ke(()=>{const a=N.value[0];a!=null&&a.complete||(C.value=!0)})}),de(y,a=>{Q(),n("switch",a)}),Ie(()=>{var a,f;re(),(f=(a=R.value)==null?void 0:a.focus)==null||f.call(a)}),m({setActiveItem:H}),(a,f)=>(h(),fe(t(ot),{to:"body",disabled:!a.teleported},{default:g(()=>[u(Re,{name:"viewer-fade",appear:""},{default:g(()=>[b("div",{ref_key:"wrapper",ref:R,tabindex:-1,class:p(t(r).e("wrapper")),style:ge({zIndex:V.value})},[b("div",{class:p(t(r).e("mask")),onClick:Ae(o=>a.hideOnClickModal&&D(),["self"])},null,10,["onClick"]),x(" CLOSE "),b("span",{class:p([t(r).e("btn"),t(r).e("close")]),onClick:D},[u(t(T),null,{default:g(()=>[u(t($e))]),_:1})],2),x(" ARROW "),t(P)?x("v-if",!0):(h(),z(ne,{key:0},[b("span",{class:p(t(le)),onClick:te},[u(t(T),null,{default:g(()=>[u(t(Be))]),_:1})],2),b("span",{class:p(t(Z)),onClick:e},[u(t(T),null,{default:g(()=>[u(t(Me))]),_:1})],2)],64)),x(" ACTIONS "),b("div",{class:p([t(r).e("btn"),t(r).e("actions")])},[b("div",{class:p(t(r).e("actions__inner"))},[u(t(T),{onClick:o=>d("zoomOut")},{default:g(()=>[u(t(Ve))]),_:1},8,["onClick"]),u(t(T),{onClick:o=>d("zoomIn")},{default:g(()=>[u(t(Pe))]),_:1},8,["onClick"]),b("i",{class:p(t(r).e("actions__divider"))},null,2),u(t(T),{onClick:ee},{default:g(()=>[(h(),fe(Ye(t(w).icon)))]),_:1}),b("i",{class:p(t(r).e("actions__divider"))},null,2),u(t(T),{onClick:o=>d("anticlockwise")},{default:g(()=>[u(t(Xe))]),_:1},8,["onClick"]),u(t(T),{onClick:o=>d("clockwise")},{default:g(()=>[u(t(De))]),_:1},8,["onClick"])],2)],2),x(" CANVAS "),b("div",{class:p(t(r).e("canvas"))},[(h(!0),z(ne,null,He(a.urlList,(o,I)=>Fe((h(),z("img",{ref_for:!0,ref:E=>N.value[I]=E,key:o,src:o,style:ge(t(X)),class:p(t(r).e("img")),crossorigin:a.crossorigin,onLoad:U,onError:q,onMousedown:G},null,46,["src","crossorigin"])),[[je,I===y.value]])),128))],2),ae(a.$slots,"default")],6)]),_:3})]),_:3},8,["disabled"]))}});var mt=Ce(ft,[["__file","image-viewer.vue"]]);const vt=Ee(mt),pt=ye({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:j([String,Object])},previewSrcList:{type:j(Array),default:()=>we([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:j(String)}}),gt={load:l=>l instanceof Event,error:l=>l instanceof Event,switch:l=>ue(l),close:()=>!0,show:()=>!0},_t=se({name:"ElImage",inheritAttrs:!1}),yt=se({..._t,props:pt,emits:gt,setup(l,{emit:m}){const n=l;let i="";const{t:s}=he(),v=be("image"),M=We(),r=_(()=>Ze(Object.entries(M).filter(([e])=>/^(data-|on[A-Z])/i.test(e)||["id","style"].includes(e)))),oe=Je({excludeListeners:!0,excludeKeys:_(()=>Object.keys(r.value))}),R=k(),N=k(!1),S=k(!0),C=k(!1),y=k(),w=k(),c=$&&"loading"in HTMLImageElement.prototype;let V,P;const K=_(()=>[v.e("inner"),Y.value&&v.e("preview"),S.value&&v.is("loading")]),W=_(()=>{const{fit:e}=n;return $&&e?{objectFit:e}:{}}),Y=_(()=>{const{previewSrcList:e}=n;return Array.isArray(e)&&e.length>0}),le=_(()=>{const{previewSrcList:e,initialIndex:d}=n;let a=d;return d>e.length-1&&(a=0),a}),Z=_(()=>n.loading==="eager"?!1:!c&&n.loading==="lazy"||n.lazy),X=()=>{!$||(S.value=!0,N.value=!1,R.value=n.src)};function D(e){S.value=!1,N.value=!1,m("load",e)}function re(e){S.value=!1,N.value=!0,m("error",e)}function J(){rt(y.value,w.value)&&(X(),G())}const U=et(J,200,!0);async function q(){var e;if(!$)return;await ke();const{scrollContainer:d}=n;Ue(d)?w.value=d:qe(d)&&d!==""?w.value=(e=document.querySelector(d))!=null?e:void 0:y.value&&(w.value=Ge(y.value)),w.value&&(V=B(w,"scroll",U),setTimeout(()=>J(),100))}function G(){!$||!w.value||!U||(V==null||V(),w.value=void 0)}function Q(e){if(!!e.ctrlKey){if(e.deltaY<0)return e.preventDefault(),!1;if(e.deltaY>0)return e.preventDefault(),!1}}function ee(){!Y.value||(P=B("wheel",Q,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",C.value=!0,m("show"))}function H(){P==null||P(),document.body.style.overflow=i,C.value=!1,m("close")}function te(e){m("switch",e)}return de(()=>n.src,()=>{Z.value?(S.value=!0,N.value=!1,G(),q()):X()}),Ie(()=>{Z.value?q():X()}),(e,d)=>(h(),z("div",_e({ref_key:"container",ref:y},t(r),{class:[t(v).b(),e.$attrs.class]}),[N.value?ae(e.$slots,"error",{key:0},()=>[b("div",{class:p(t(v).e("error"))},Qe(t(s)("el.image.error")),3)]):(h(),z(ne,{key:1},[R.value!==void 0?(h(),z("img",_e({key:0},t(oe),{src:R.value,loading:e.loading,style:t(W),class:t(K),crossorigin:e.crossorigin,onClick:ee,onLoad:D,onError:re}),null,16,["src","loading","crossorigin"])):x("v-if",!0),S.value?(h(),z("div",{key:1,class:p(t(v).e("wrapper"))},[ae(e.$slots,"placeholder",{},()=>[b("div",{class:p(t(v).e("placeholder"))},null,2)])],2)):x("v-if",!0)],64)),t(Y)?(h(),z(ne,{key:2},[C.value?(h(),fe(t(vt),{key:0,"z-index":e.zIndex,"initial-index":t(le),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"url-list":e.previewSrcList,crossorigin:e.crossorigin,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:H,onSwitch:te},{default:g(()=>[e.$slots.viewer?(h(),z("div",{key:0},[ae(e.$slots,"viewer")])):x("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):x("v-if",!0)],64)):x("v-if",!0)],16))}});var wt=Ce(yt,[["__file","image.vue"]]);const ht=Ee(wt);const bt={class:"page-404-content"},kt={__name:"index",setup(l){const m=()=>{nt.goHome()};return(n,i)=>{const s=ht,v=tt,M=Le;return h(),z("div",bt,[u(M,{title:"missing page","sub-title":"missing page"},{icon:g(()=>[u(s,{class:"img-content",src:"/src/assets/imgs/404.png"})]),extra:g(()=>[u(v,{type:"primary",onClick:m},{default:g(()=>i[0]||(i[0]=[at("Back")])),_:1})]),_:1})])}}},St=st(kt,[["__scopeId","data-v-16c3a67a"]]);export{St as default};
