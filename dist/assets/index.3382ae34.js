/* empty css                  */import{v as $}from"./el-loading.4b1d594b.js";import{E as j,a as H}from"./el-tag.c39896d7.js";import"./el-tooltip.53f64348.js";import{E as P}from"./el-scrollbar.8e7f6198.js";import{cr as v,ax as U,r as y,Z as W,$ as x,F as Z,W as q,o as D,g as G,C as s,M as o,w as c,S as J,f as K,aB as r,V as g,k as F,n as Q,t as X,aE as Y}from"./index.6c9c4166.js";import{_ as ee}from"./_plugin-vue_export-helper.cdc0426e.js";import"./debounce.01570010.js";import"./index.8331befd.js";let w={recycles:function(i,a){v({url:"/recycles",params:{},method:"get"}).then(l=>i(l)).catch(l=>a(l))},restoreRecycle:function(i,a,l){v({url:"/recycle/restore",data:i,method:"put"}).then(n=>a(n)).catch(n=>l(n))},deleteRecycle:function(i,a,l){v({url:"/recycle",data:i,method:"delete"}).then(n=>a(n)).catch(n=>l(n))}};const te={class:"recycle-button-content"},le={class:"restore-button-content"},oe={class:"clean-button-content"},ne={class:"recycle-file-list-content"},se={class:"file-name-content"},ce={style:{cursor:"pointer"}},ae={class:"file-operation-content"},ie={__name:"index",setup(i){const a=U(),l=y([]),n=y(window.innerHeight-200),u=y([]),_=y(!0),b=()=>{_.value=!0,w.recycles(e=>{_.value=!1,l.value=e.data},e=>{_.value=!1,r.error(e.message)})};W(()=>{a.setSearchFlag(!1),b()});const E=e=>{Y.confirm("Files will not be recoverable after deletion, are you sure about this?","Delete file",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then(()=>{w.deleteRecycle({fileIds:e},t=>{r.success("Delete Successfully"),b()},t=>{r.error(t.message)})})},S=()=>{if(l.value&&l.value.length>0){let e=new Array;l.value.forEach(t=>{e.push(t.fileId)}),E(e.join("__,__"))}},k=e=>{u.value=e},T=(e,t,d,f)=>{g.showOperation(d)},B=(e,t,d,f)=>{g.hiddenOperation(d)},I=e=>{g.getFileFontElement(e)},C=e=>{w.restoreRecycle({fileIds:e},t=>{r.success("File restored successfully"),l.value=t.data},t=>{r.error(t.message)})},z=()=>{if(u.value&&u.value.length>0){let e=new Array;u.value.forEach(t=>{e.push(t.fileId)}),C(e.join("__,__"));return}r.error("Please select a file to restore")},L=e=>{C(e.fileId)},M=e=>{E(e.fileId)};return(e,t)=>{const d=x("RefreshLeft"),f=Z,p=q,O=x("Delete"),m=j,R=P,N=H,A=$;return D(),G("div",null,[s("div",te,[s("div",le,[o(p,{type:"success",size:"default",round:"",onClick:z},{default:c(()=>[t[0]||(t[0]=F(" Restore ")),o(f,{class:"el-icon--right"},{default:c(()=>[o(d)]),_:1})]),_:1})]),s("div",oe,[o(p,{type:"danger",size:"default",round:"",onClick:S},{default:c(()=>[t[1]||(t[1]=F(" Empty the Recycle Bin ")),o(f,{class:"el-icon--right"},{default:c(()=>[o(O)]),_:1})]),_:1})])]),s("div",ne,[J((D(),K(N,{ref:"recycleTable",data:l.value,height:n.value,"tooltip-effect":"dark",style:{width:"100%"},onSelectionChange:k,onCellMouseEnter:T,onCellMouseLeave:B},{default:c(()=>[o(m,{type:"selection",width:"55"}),o(m,{label:"File Name",prop:"fileName",sortable:"","show-overflow-tooltip":"","min-width":"750"},{default:c(h=>[s("div",se,[s("i",{class:Q(I(h.row.fileType)),style:{"margin-right":"15px","font-size":"20px",cursor:"pointer"}},null,2),s("span",ce,X(h.row.filename),1)]),s("div",ae,[o(R,{class:"item",effect:"light",content:"\u8FD8\u539F",placement:"top"},{default:c(()=>[o(p,{type:"success",icon:"RefreshLeft",size:"small",circle:"",onClick:V=>L(h.row)},null,8,["onClick"])]),_:2},1024),o(R,{class:"item",effect:"light",content:"\u5F7B\u5E95\u5220\u9664",placement:"top"},{default:c(()=>[o(p,{type:"danger",icon:"Delete",size:"small",circle:"",onClick:V=>M(h.row)},null,8,["onClick"])]),_:2},1024)])]),_:1}),o(m,{prop:"fileSizeDesc",sortable:"",label:"Size","min-width":"120",align:"center"}),o(m,{prop:"updateTime",sortable:"",align:"center",label:"Delete Time","min-width":"240"})]),_:1},8,["data","height"])),[[A,_.value]])])])}}},ve=ee(ie,[["__scopeId","data-v-5e834d6e"]]);export{ve as default};
